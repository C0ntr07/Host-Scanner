# Host Scanner RPM Distribution

This folder contain the `Dockerfile` and scripts to pull, compile and package the latest revision. The scripts here are tailored to produce an `.rpm` package, which is generated with the current Fedora version, `fedora:latest` in Docker Hub.

Since Boost is statically linked during compilation, the dynamic dependencies for now are `libcurl`, `libsqlite3` and `zlib` for both distributions.

The files will be generated by CMake's packaging component, CPack, whose configuration can be found in `CPackConfig.cmake`.

In order to set up these build environments, you must first compile the container:

    cd distrib/rpm
    docker build -t rpmbuild .

After this, the `rpmbuild` container will be available for any compilations needs. To bake a fresh `.rpm`, just run:

    docker run -it rpmbuild

This will pull a fresh copy of the repository _inside_ the container, therefore any changes to the repository on your host machine will not be reflected. If you wish to compile you own fork or a different branch, you'll have to modify the `compile.sh` file next to the preferred `Dockerfile` and rebuild the container.